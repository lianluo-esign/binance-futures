# FlowSight 用户指南

本指南将帮助您快速上手 FlowSight 订单流分析系统。

## 快速开始

### 启动应用

```bash
# 默认 BTCUSDT 交易对
cargo run --release

# 指定其他交易对
cargo run --release ETHUSDT
```

### 界面概览

FlowSight 采用简洁的单窗口设计：

```
┌─────────────────────────────────────────────────────────────┐
│ FlowSight - BTCUSDT | 连接状态: ✓ | 延迟: 15ms | FPS: 60    │ 5%
├─────────────────────────────────────────────────────────────┤
│ 卖单量 │   价格   │ 买单量 │ 主动买量 │ 主动卖量 │           │
│ ████   │ 45,250   │        │   1.2K   │         │           │
│        │ 45,249   │ ██     │          │   0.8K  │           │
│ ██     │ 45,248   │ █████  │   2.1K   │         │ ← 当前价格 │ 95%
│        │ 45,247   │ ███    │   0.9K   │         │           │
│ █████  │ 45,246   │        │          │   1.5K  │           │
└─────────────────────────────────────────────────────────────┘
```

## 界面元素详解

### 状态栏（顶部 5%）

- **交易对**: 当前监控的交易对
- **连接状态**: WebSocket 连接状态（✓ 正常，✗ 断开）
- **延迟**: 到币安服务器的网络延迟
- **FPS**: 界面刷新率
- **事件/秒**: 实时事件处理速度

### 主表格（95%）

#### 列说明

1. **卖单量**: 当前价格级别的卖方订单总量
   - 深红色水平条表示相对数量
   - 数值显示实际订单量

2. **价格**: 聚合后的价格级别
   - 1美元精度聚合（如 45,248 表示 45,248.00-45,248.99）
   - 当前市场价格会高亮显示

3. **买单量**: 当前价格级别的买方订单总量
   - 蓝色水平条表示相对数量
   - 数值显示实际订单量

4. **主动买量**: 主动买入交易的累积量
   - 绿色粗体显示
   - 5秒窗口累积数据

5. **主动卖量**: 主动卖出交易的累积量
   - 红色粗体显示
   - 5秒窗口累积数据

#### 视觉特性

- **自动跟踪**: 表格自动滚动跟随当前价格
- **比例缩放**: 水平条按最大值比例显示
- **实时更新**: 1毫秒刷新间隔
- **动态范围**: 维持 ±40 价格级别显示

## 操作指南

### 基本操作

- **自动跟踪**: 默认启用，跟随价格变动
- **手动滚动**: 鼠标滚轮或键盘方向键
- **窗口调整**: 拖拽窗口边缘调整大小

### 键盘快捷键

- **↑/↓**: 手动滚动表格
- **Home**: 跳转到最高价格
- **End**: 跳转到最低价格
- **Space**: 切换自动跟踪模式
- **Esc**: 退出应用

### 鼠标操作

- **滚轮**: 上下滚动表格
- **左键点击**: 选择特定价格级别
- **右键点击**: 显示上下文菜单（未来功能）

## 数据解读

### 订单簿数据

**买单量 vs 卖单量**
- 买单量大：支撑强，价格可能上涨
- 卖单量大：阻力强，价格可能下跌
- 均衡：价格可能横盘整理

**水平条长度**
- 条形图长度表示相对数量
- 最长的条代表当前最大订单量
- 空白表示该价格级别无订单

### 交易足迹数据

**主动买量（绿色）**
- 表示主动买入的交易量
- 数值越大，买方压力越强
- 持续增长可能预示价格上涨

**主动卖量（红色）**
- 表示主动卖出的交易量
- 数值越大，卖方压力越强
- 持续增长可能预示价格下跌

### 市场信号

**强买信号**
- 大量主动买单 + 买单量增加
- 卖单量被快速消耗
- 价格持续上涨

**强卖信号**
- 大量主动卖单 + 卖单量增加
- 买单量被快速消耗
- 价格持续下跌

**震荡信号**
- 买卖量相对均衡
- 主动买卖量交替出现
- 价格在区间内波动

## 高级功能

### 性能监控

状态栏显示的性能指标：
- **延迟**: 网络往返时间，正常 < 100ms
- **FPS**: 界面刷新率，目标 60 FPS
- **事件/秒**: 数据处理速度，正常 > 1000

### 数据质量

系统自动进行数据清洗：
- 过滤无效订单（价格偏离过大）
- 聚合小额订单减少噪音
- 平滑异常数据波动

## 故障排除

### 常见问题

**Q: 数据不更新**
A: 检查网络连接和状态栏连接状态

**Q: 界面卡顿**
A: 降低刷新率或关闭其他占用 CPU 的程序

**Q: 价格跳跃异常**
A: 正常现象，反映市场真实波动

**Q: 字体显示异常**
A: 确保系统安装了中文字体

### 性能优化

1. **关闭不必要的程序**
2. **使用有线网络连接**
3. **调整系统电源计划为高性能**
4. **确保充足的内存空间**

## 下一步

- 了解 [配置选项](CONFIGURATION.md)
- 查看 [架构文档](../ARCHITECTURE.CN.md)
- 参与 [社区讨论](https://github.com/lianluo-esign/binance-futures/discussions)
